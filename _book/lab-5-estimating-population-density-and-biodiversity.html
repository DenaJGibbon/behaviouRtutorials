<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Lab 5. Estimating Population Density and Biodiversity | behaviouR: R package and tutorials for online teaching of fundamental concepts in behavior and ecology</title>
  <meta name="description" content="This is the location for all of the tutorials associated with the behaviouR R package." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Lab 5. Estimating Population Density and Biodiversity | behaviouR: R package and tutorials for online teaching of fundamental concepts in behavior and ecology" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the location for all of the tutorials associated with the behaviouR R package." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Lab 5. Estimating Population Density and Biodiversity | behaviouR: R package and tutorials for online teaching of fundamental concepts in behavior and ecology" />
  
  <meta name="twitter:description" content="This is the location for all of the tutorials associated with the behaviouR R package." />
  

<meta name="author" content="Dena J. Clink" />


<meta name="date" content="2020-08-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lab-4-vigilance-behavior.html"/>
<link rel="next" href="lab-6-analyzing-camera-trap-data-.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">BioNBB 2210 Summer 2020 Computer Labs</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="lab-1-data-exploration-and-visualization.html"><a href="lab-1-data-exploration-and-visualization.html"><i class="fa fa-check"></i><b>1</b> Lab 1. Data exploration and visualization</a><ul>
<li class="chapter" data-level="" data-path="lab-1-data-exploration-and-visualization.html"><a href="lab-1-data-exploration-and-visualization.html#lab-1a.-categorical-data"><i class="fa fa-check"></i>Lab 1a. Categorical data</a></li>
<li class="chapter" data-level="" data-path="lab-1-data-exploration-and-visualization.html"><a href="lab-1-data-exploration-and-visualization.html#lab-1b.-categorical-and-continuous-data"><i class="fa fa-check"></i>Lab 1b. Categorical and continuous data</a></li>
<li class="chapter" data-level="" data-path="lab-1-data-exploration-and-visualization.html"><a href="lab-1-data-exploration-and-visualization.html#lab-1c.-categorical-and-continuous-data"><i class="fa fa-check"></i>Lab 1c. Categorical and continuous data</a></li>
<li class="chapter" data-level="" data-path="lab-1-data-exploration-and-visualization.html"><a href="lab-1-data-exploration-and-visualization.html#lab-1d.-multivariate-data"><i class="fa fa-check"></i>Lab 1d. Multivariate data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="lab-2-activity-budgets-and-ethograms.html"><a href="lab-2-activity-budgets-and-ethograms.html"><i class="fa fa-check"></i><b>2</b> Lab 2. Activity Budgets and Ethograms</a><ul>
<li class="chapter" data-level="" data-path="lab-2-activity-budgets-and-ethograms.html"><a href="lab-2-activity-budgets-and-ethograms.html#lab-2a.-enter-and-visualize-your-ethogram-data"><i class="fa fa-check"></i>Lab 2a. Enter and visualize your ethogram data</a></li>
<li class="chapter" data-level="" data-path="lab-2-activity-budgets-and-ethograms.html"><a href="lab-2-activity-budgets-and-ethograms.html#lab-2b.-calculate-meerkat-activity-budgets."><i class="fa fa-check"></i>Lab 2b. Calculate meerkat activity budgets.</a></li>
<li class="chapter" data-level="" data-path="lab-2-activity-budgets-and-ethograms.html"><a href="lab-2-activity-budgets-and-ethograms.html#lab-2c.-scan-sampling-and-inter-observer-reliability."><i class="fa fa-check"></i>Lab 2c. Scan sampling and inter-observer reliability.</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lab-3-analyzing-acoustic-data.html"><a href="lab-3-analyzing-acoustic-data.html"><i class="fa fa-check"></i><b>3</b> Lab 3. Analyzing Acoustic Data</a><ul>
<li class="chapter" data-level="" data-path="lab-3-analyzing-acoustic-data.html"><a href="lab-3-analyzing-acoustic-data.html#part-1.-loading-a-sound-file-and-making-a-spectrogram"><i class="fa fa-check"></i>Part 1. Loading a sound file and making a spectrogram</a></li>
<li class="chapter" data-level="" data-path="lab-3-analyzing-acoustic-data.html"><a href="lab-3-analyzing-acoustic-data.html#part-2.-visualizing-differences-in-gibbon-and-great-argus-calls"><i class="fa fa-check"></i>Part 2. Visualizing differences in gibbon and great argus calls</a></li>
<li class="chapter" data-level="" data-path="lab-3-analyzing-acoustic-data.html"><a href="lab-3-analyzing-acoustic-data.html#part-3.-soundscapes"><i class="fa fa-check"></i>Part 3. Soundscapes</a></li>
<li class="chapter" data-level="" data-path="lab-3-analyzing-acoustic-data.html"><a href="lab-3-analyzing-acoustic-data.html#part-4.-now-it-is-time-to-analyze-the-data-you-collected-for-this-weeks-field-lab."><i class="fa fa-check"></i>Part 4. Now it is time to analyze the data you collected for this week’s field lab.</a><ul>
<li class="chapter" data-level="3.0.1" data-path="lab-3-analyzing-acoustic-data.html"><a href="lab-3-analyzing-acoustic-data.html#part-4a.-your-focal-recordings"><i class="fa fa-check"></i><b>3.0.1</b> Part 4a. Your focal recordings</a></li>
<li class="chapter" data-level="3.0.2" data-path="lab-3-analyzing-acoustic-data.html"><a href="lab-3-analyzing-acoustic-data.html#part-4b.-soundscape-recordings"><i class="fa fa-check"></i><b>3.0.2</b> Part 4b. Soundscape recordings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="lab-4-vigilance-behavior.html"><a href="lab-4-vigilance-behavior.html"><i class="fa fa-check"></i><b>4</b> Lab 4. Vigilance behavior</a><ul>
<li class="chapter" data-level="4.1" data-path="lab-4-vigilance-behavior.html"><a href="lab-4-vigilance-behavior.html#part-1-barnacle-goose-vigilance"><i class="fa fa-check"></i><b>4.1</b> Part 1: Barnacle goose vigilance</a><ul>
<li class="chapter" data-level="4.1.1" data-path="lab-4-vigilance-behavior.html"><a href="lab-4-vigilance-behavior.html#part-1a-surveillance-behavior"><i class="fa fa-check"></i><b>4.1.1</b> Part 1a: Surveillance behavior</a></li>
<li class="chapter" data-level="4.1.2" data-path="lab-4-vigilance-behavior.html"><a href="lab-4-vigilance-behavior.html#part-1b-time-vigilant-secmin"><i class="fa fa-check"></i><b>4.1.2</b> Part 1b: Time vigilant (sec/min)</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="lab-4-vigilance-behavior.html"><a href="lab-4-vigilance-behavior.html#part-2-meerkat-data-revisted"><i class="fa fa-check"></i><b>4.2</b> Part 2: Meerkat data revisted</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="lab-5-estimating-population-density-and-biodiversity.html"><a href="lab-5-estimating-population-density-and-biodiversity.html"><i class="fa fa-check"></i><b>5</b> Lab 5. Estimating Population Density and Biodiversity</a><ul>
<li class="chapter" data-level="5.1" data-path="lab-5-estimating-population-density-and-biodiversity.html"><a href="lab-5-estimating-population-density-and-biodiversity.html#part-1.-population-density-estimation."><i class="fa fa-check"></i><b>5.1</b> Part 1. Population density estimation.</a></li>
<li class="chapter" data-level="5.2" data-path="lab-5-estimating-population-density-and-biodiversity.html"><a href="lab-5-estimating-population-density-and-biodiversity.html#part-2.-comparing-biodiversity."><i class="fa fa-check"></i><b>5.2</b> Part 2. Comparing biodiversity.</a><ul>
<li class="chapter" data-level="5.2.1" data-path="lab-5-estimating-population-density-and-biodiversity.html"><a href="lab-5-estimating-population-density-and-biodiversity.html#alpha-diversity."><i class="fa fa-check"></i><b>5.2.1</b> Alpha diversity.</a></li>
<li class="chapter" data-level="5.2.2" data-path="lab-5-estimating-population-density-and-biodiversity.html"><a href="lab-5-estimating-population-density-and-biodiversity.html#beta-diversity."><i class="fa fa-check"></i><b>5.2.2</b> Beta diversity.</a></li>
<li class="chapter" data-level="5.2.3" data-path="lab-5-estimating-population-density-and-biodiversity.html"><a href="lab-5-estimating-population-density-and-biodiversity.html#now-we-will-use-your-partners-data-to-estimate-alpha-diversity"><i class="fa fa-check"></i><b>5.2.3</b> Now we will use your partner’s data to estimate alpha diversity</a></li>
<li class="chapter" data-level="5.2.4" data-path="lab-5-estimating-population-density-and-biodiversity.html"><a href="lab-5-estimating-population-density-and-biodiversity.html#gamma-diversity"><i class="fa fa-check"></i><b>5.2.4</b> Gamma diversity</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="lab-5-estimating-population-density-and-biodiversity.html"><a href="lab-5-estimating-population-density-and-biodiversity.html#part-3.-biodiversity-indices-in-the-real-world."><i class="fa fa-check"></i><b>5.3</b> Part 3. Biodiversity indices in the real world.</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="lab-6-analyzing-camera-trap-data-.html"><a href="lab-6-analyzing-camera-trap-data-.html"><i class="fa fa-check"></i><b>6</b> Lab 6. Analyzing camera trap data.</a><ul>
<li class="chapter" data-level="6.1" data-path="lab-6-analyzing-camera-trap-data-.html"><a href="lab-6-analyzing-camera-trap-data-.html#part-1-collect-serengeti-camera-trap-data"><i class="fa fa-check"></i><b>6.1</b> Part 1: Collect Serengeti camera trap data</a></li>
<li class="chapter" data-level="6.2" data-path="lab-6-analyzing-camera-trap-data-.html"><a href="lab-6-analyzing-camera-trap-data-.html#part-2-analyze-your-serengeti-camera-trap-data"><i class="fa fa-check"></i><b>6.2</b> Part 2: Analyze your Serengeti camera trap data</a></li>
<li class="chapter" data-level="6.3" data-path="lab-6-analyzing-camera-trap-data-.html"><a href="lab-6-analyzing-camera-trap-data-.html#part-3-focus-on-your-partners-serengeti-camera-trap-data"><i class="fa fa-check"></i><b>6.3</b> Part 3: Focus on your partner’s Serengeti camera trap data</a></li>
<li class="chapter" data-level="6.4" data-path="lab-6-analyzing-camera-trap-data-.html"><a href="lab-6-analyzing-camera-trap-data-.html#part-4.-investigating-temporal-niche-partitioning-in-four-different-animals"><i class="fa fa-check"></i><b>6.4</b> Part 4. Investigating temporal niche partitioning in four different animals</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix-1-data-exploration-and-visualization-r-script.html"><a href="appendix-1-data-exploration-and-visualization-r-script.html"><i class="fa fa-check"></i>Appendix 1. Data exploration and visualization R script</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">behaviouR: R package and tutorials for online teaching of fundamental concepts in behavior and ecology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lab-5.-estimating-population-density-and-biodiversity" class="section level1">
<h1><span class="header-section-number">5</span> Lab 5. Estimating Population Density and Biodiversity</h1>
<p><img src="behaviouR-R-package-tutorials_files/figure-html/unnamed-chunk-121-1.png" width="480" style="display: block; margin: auto;" /></p>
<p><em>Background</em><br />
In this lab you will become familiar with the ways that scientists estimate population density and biodiversity of terrestrial vertebrates.</p>
<p><em>Goals of the exercises</em><br />
The main goal(s) of today’s lab are to:<br />
1) Estimate population density of focal vertebrates from the field lab.<br />
2) Learn the difference between alpha, beta and gamma diversity.<br />
3) Compare population density and biodiversity across your sampling sites.</p>
<p><em>Getting started</em><br />
First we need to load the relevant packages for our data analysis. Packages contain all the functions that are needed for data analysis.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" data-line-number="1"><span class="kw">library</span>(behaviouR)</a></code></pre></div>
<p>Then we read in our data</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" data-line-number="1">CensusData &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;FieldLab5CensusData.csv&#39;</span>)</a></code></pre></div>
<div id="part-1.-population-density-estimation." class="section level2">
<h2><span class="header-section-number">5.1</span> Part 1. Population density estimation.</h2>
<p>First let’s focus on your data.<br />
NOTE: you need to change ‘A’ to the name you used!</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" data-line-number="1">MyCensusData &lt;-<span class="st"> </span><span class="kw">subset</span>(CensusData, Partner<span class="op">==</span><span class="st">&#39;A&#39;</span>)</a></code></pre></div>
<p>Now we will subset the data to focus on your focal species for density estimation. NOTE: in this example we are subsetting the data so that we only have the squirrels; you will need to change the code to subset based on your focal species!</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb148-1" data-line-number="1">MyCensusDataFocal &lt;-<span class="st"> </span><span class="kw">subset</span>(MyCensusData, Species<span class="op">==</span><span class="st">&#39;squirrel&#39;</span>)</a></code></pre></div>
<p>Here we will determine the width of our sampling area by creating a histogram of perpendicular detection distances. We will identify the point where our detections start to dropoff. We will assume that after this point our ability to detect animals past that distance drops substantially, and including observations past this distance could potentially bias our results.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb149-1" data-line-number="1"><span class="kw">hist</span>(MyCensusDataFocal<span class="op">$</span>PerpendicularDistance,<span class="dt">xlab=</span><span class="st">&#39;Perpendicular distance (D)&#39;</span>,</a>
<a class="sourceLine" id="cb149-2" data-line-number="2">  <span class="dt">ylab=</span><span class="st">&#39;Number of observations&#39;</span>,<span class="dt">main=</span><span class="st">&#39;&#39;</span>)</a></code></pre></div>
<p><img src="behaviouR-R-package-tutorials_files/figure-html/unnamed-chunk-127-1.png" width="864" /></p>
<p>In this example there is a clear break between 15 and 20 meters, so we will only use observations that were within 15 meters.<br />
NOTE: Your data will look different than this!</p>
<p>Change the value (in this example 15) to the cutoff point indicated in your data!</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb150-1" data-line-number="1">CutOffPoint &lt;-<span class="st"> </span><span class="dv">15</span></a></code></pre></div>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" data-line-number="1"><span class="co"># Here we subset our data so that it only includes detections that were within 15 meters of the census route</span></a>
<a class="sourceLine" id="cb151-2" data-line-number="2">MyCensusDataFocalAdjusted &lt;-<span class="st"> </span><span class="kw">subset</span>(MyCensusDataFocal,PerpendicularDistance <span class="op">&lt;</span>CutOffPoint )</a></code></pre></div>
<p>Now we need to subset by each site.<br />
NOTE: You will need to change to the site names you used</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1">MyCensusDataFocalSiteA &lt;-<span class="st"> </span><span class="kw">subset</span>(MyCensusDataFocalAdjusted,Site<span class="op">==</span><span class="st">&#39;SiteA&#39;</span>)</a>
<a class="sourceLine" id="cb152-2" data-line-number="2"></a>
<a class="sourceLine" id="cb152-3" data-line-number="3">MyCensusDataFocalSiteB &lt;-<span class="st"> </span><span class="kw">subset</span>(MyCensusDataFocalAdjusted,Site<span class="op">==</span><span class="st">&#39;SiteB&#39;</span>)</a></code></pre></div>
<p>Now we will calculate the population density based on our two surveys. Change the following to indicate the distance (in meters) of your survey for site A. This will be the actual straight-line distance you walked.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1">SiteACensusDistance &lt;-<span class="st"> </span><span class="dv">500</span></a></code></pre></div>
<p>Now we will calculate the area of our census. The sample area (a) is equal to the length of the transect multiplied by twice the width or a= 2wl. We divide by 1000 to convert our answer to square kilometers.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1">SiteACensusArea &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>SiteACensusDistance<span class="op">*</span>CutOffPoint<span class="op">/</span><span class="dv">1000</span></a>
<a class="sourceLine" id="cb154-2" data-line-number="2">SiteACensusArea</a></code></pre></div>
<pre><code>## [1] 15</code></pre>
<p>Now we need to calculate the number of focal animals observed using the following code.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" data-line-number="1">NumberFocalAnimalsSiteA &lt;-<span class="st"> </span><span class="kw">nrow</span>(MyCensusDataFocalSiteA)</a></code></pre></div>
<p>Then we can calculate the density by dividing the total number of animals we observed by the area we censused.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" data-line-number="1">PopulationDensitySiteA &lt;-NumberFocalAnimalsSiteA<span class="op">/</span>SiteACensusArea</a>
<a class="sourceLine" id="cb157-2" data-line-number="2">PopulationDensitySiteA</a></code></pre></div>
<pre><code>## [1] 0.4666667</code></pre>
<p>Now we will calculate the population density based on our second survey. Change the following to indicate the distance (in meters) of your survey for site B.This will be the actual straight-line distance you walked.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" data-line-number="1">SiteBCensusDistance &lt;-<span class="st"> </span><span class="dv">500</span></a></code></pre></div>
<p>Now we will calculate the area of our census. The sample area (a) is equal to the length of the transect multiplied by twice the width or a= 2wl.We divide by 1000 to convert our answer to square kilometers.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1">SiteBCensusArea &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>SiteBCensusDistance<span class="op">*</span>CutOffPoint<span class="op">/</span><span class="dv">1000</span></a>
<a class="sourceLine" id="cb160-2" data-line-number="2">SiteBCensusArea</a></code></pre></div>
<pre><code>## [1] 15</code></pre>
<p>Now we need to calculate the number of animals using the following code.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" data-line-number="1">NumberFocalAnimalsSiteB &lt;-<span class="st"> </span><span class="kw">nrow</span>(MyCensusDataFocalSiteB)</a></code></pre></div>
<p>Then we can calculate the density by dividing the total number of animals we observed by the area we censused.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" data-line-number="1">PopulationDensitySiteB &lt;-NumberFocalAnimalsSiteB<span class="op">/</span>SiteBCensusArea</a>
<a class="sourceLine" id="cb163-2" data-line-number="2">PopulationDensitySiteB</a></code></pre></div>
<pre><code>## [1] 1.133333</code></pre>
<p>Now we can compare population density using the following code. The code below asks if the population density of site A was higher than site B?</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb165-1" data-line-number="1">PopulationDensitySiteA <span class="op">&gt;</span><span class="st"> </span>PopulationDensitySiteB</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>The code below asks if the population density of site B was higher than site A?</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" data-line-number="1">PopulationDensitySiteB <span class="op">&gt;</span><span class="st"> </span>PopulationDensitySiteA</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p><strong>Question 1</strong>. What were the population density estimates (reported as number of individuals per square kilometer) for your two sites? Do your results of the population density estimates match your predictions? Why or why not?</p>
</div>
<div id="part-2.-comparing-biodiversity." class="section level2">
<h2><span class="header-section-number">5.2</span> Part 2. Comparing biodiversity.</h2>
<div id="alpha-diversity." class="section level3">
<h3><span class="header-section-number">5.2.1</span> Alpha diversity.</h3>
<p>First, we will estimate the alpha diversity, or the diversity within a particular area or ecosystem. The alpha diversity is simply the number of different species present at each site.</p>
<p>Here we subset by partner and site A (you may need to change these!)</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" data-line-number="1">MyCensusDataSiteA &lt;-<span class="st"> </span><span class="kw">subset</span>(MyCensusData,Partner<span class="op">==</span><span class="st">&#39;A&#39;</span> <span class="op">&amp;</span><span class="st"> </span>Site<span class="op">==</span><span class="st">&#39;SiteA&#39;</span>)</a>
<a class="sourceLine" id="cb169-2" data-line-number="2"></a>
<a class="sourceLine" id="cb169-3" data-line-number="3"><span class="co"># What were the unique species present?</span></a>
<a class="sourceLine" id="cb169-4" data-line-number="4"><span class="kw">unique</span>(MyCensusDataSiteA<span class="op">$</span>Species)</a></code></pre></div>
<pre><code>## [1] cardinal  blackird1 rabbit    deer      squirrel  crow     
## Levels: blackird1 cardinal crow deer rabbit squirrel</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" data-line-number="1"><span class="co"># How many unique species were there?</span></a>
<a class="sourceLine" id="cb171-2" data-line-number="2">SiteANumberSpecies &lt;-<span class="st"> </span><span class="kw">length</span>(<span class="kw">unique</span>(MyCensusDataSiteA<span class="op">$</span>Species))</a>
<a class="sourceLine" id="cb171-3" data-line-number="3">SiteANumberSpecies</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>Here we subset by partner and site B (you may need to change these!)</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" data-line-number="1">MyCensusDataSiteB &lt;-<span class="st"> </span><span class="kw">subset</span>(MyCensusData,Partner<span class="op">==</span><span class="st">&#39;A&#39;</span> <span class="op">&amp;</span><span class="st"> </span>Site<span class="op">==</span><span class="st">&#39;SiteB&#39;</span>)</a>
<a class="sourceLine" id="cb173-2" data-line-number="2"></a>
<a class="sourceLine" id="cb173-3" data-line-number="3"><span class="co"># What were the unique species present?</span></a>
<a class="sourceLine" id="cb173-4" data-line-number="4"><span class="kw">unique</span>(MyCensusDataSiteB<span class="op">$</span>Species)</a></code></pre></div>
<pre><code>## [1] squirrel  blackird1 rabbit    deer      crow     
## Levels: blackird1 cardinal crow deer rabbit squirrel</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" data-line-number="1"><span class="co"># How many unique species were there?</span></a>
<a class="sourceLine" id="cb175-2" data-line-number="2">SiteBNumberSpecies &lt;-<span class="st"> </span><span class="kw">length</span>(<span class="kw">unique</span>(MyCensusDataSiteB<span class="op">$</span>Species))</a>
<a class="sourceLine" id="cb175-3" data-line-number="3">SiteBNumberSpecies</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p><strong>Question 2</strong>. Which of your sites had higher species richness (i.e. number of species)?</p>
</div>
<div id="beta-diversity." class="section level3">
<h3><span class="header-section-number">5.2.2</span> Beta diversity.</h3>
<p>Now we will estimate beta diversity, which estimates changes in species diversity between ecosystems or along environmental gradients.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" data-line-number="1"><span class="co"># This code tells us which species both sites have in common</span></a>
<a class="sourceLine" id="cb177-2" data-line-number="2"><span class="kw">intersect</span>(<span class="kw">unique</span>(MyCensusDataSiteA<span class="op">$</span>Species),<span class="kw">unique</span>(MyCensusDataSiteB<span class="op">$</span>Species))</a></code></pre></div>
<pre><code>## [1] &quot;blackird1&quot; &quot;rabbit&quot;    &quot;deer&quot;      &quot;squirrel&quot;  &quot;crow&quot;</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" data-line-number="1"><span class="co"># Now we calculate the number of species in common</span></a>
<a class="sourceLine" id="cb179-2" data-line-number="2">SpeciesInCommonBothSites &lt;-<span class="st"> </span><span class="kw">length</span>(<span class="kw">intersect</span>(<span class="kw">unique</span>(MyCensusDataSiteA<span class="op">$</span>Species),<span class="kw">unique</span>(MyCensusDataSiteB<span class="op">$</span>Species))</a>
<a class="sourceLine" id="cb179-3" data-line-number="3">)</a>
<a class="sourceLine" id="cb179-4" data-line-number="4">SpeciesInCommonBothSites</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>To investigate community similarity we will calculate Sørenson’s index; a value of 1 means exactly the same number of species a value of 0 means no overlap.</p>
<p>Beta diversity = 2c / S1 + S2<br />
Where c is the number of species the sites have in common, S1 is the number of species at the first site and S2 is the number of species at the second site</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" data-line-number="1"><span class="dv">2</span><span class="op">*</span>SpeciesInCommonBothSites<span class="op">/</span><span class="st"> </span>(SiteANumberSpecies<span class="op">+</span>SiteBNumberSpecies)</a></code></pre></div>
<pre><code>## [1] 0.9090909</code></pre>
</div>
<div id="now-we-will-use-your-partners-data-to-estimate-alpha-diversity" class="section level3">
<h3><span class="header-section-number">5.2.3</span> Now we will use your partner’s data to estimate alpha diversity</h3>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" data-line-number="1">MyPartnersCensusDataSiteA &lt;-<span class="st"> </span><span class="kw">subset</span>(CensusData,Partner<span class="op">==</span><span class="st">&#39;B&#39;</span> <span class="op">&amp;</span><span class="st"> </span>Site<span class="op">==</span><span class="st">&#39;SiteC&#39;</span>)</a>
<a class="sourceLine" id="cb183-2" data-line-number="2"><span class="kw">unique</span>(MyPartnersCensusDataSiteA<span class="op">$</span>Species)</a></code></pre></div>
<pre><code>## [1] squirrel crow    
## Levels: blackird1 cardinal crow deer rabbit squirrel</code></pre>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" data-line-number="1"><span class="kw">length</span>(<span class="kw">unique</span>(MyPartnersCensusDataSiteA<span class="op">$</span>Species))</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" data-line-number="1">SiteANumberSpecies &lt;-<span class="st"> </span><span class="kw">length</span>(<span class="kw">unique</span>(MyPartnersCensusDataSiteA<span class="op">$</span>Species))</a>
<a class="sourceLine" id="cb187-2" data-line-number="2">SiteANumberSpecies</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" data-line-number="1">MyPartnersCensusDataSiteB &lt;-<span class="st"> </span><span class="kw">subset</span>(CensusData,Partner<span class="op">==</span><span class="st">&#39;B&#39;</span> <span class="op">&amp;</span><span class="st"> </span>Site<span class="op">==</span><span class="st">&#39;SiteD&#39;</span>)</a>
<a class="sourceLine" id="cb189-2" data-line-number="2"><span class="kw">unique</span>(MyPartnersCensusDataSiteB<span class="op">$</span>Species)</a></code></pre></div>
<pre><code>## [1] squirrel
## Levels: blackird1 cardinal crow deer rabbit squirrel</code></pre>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" data-line-number="1"><span class="kw">length</span>(<span class="kw">unique</span>(MyPartnersCensusDataSiteB<span class="op">$</span>Species))</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" data-line-number="1">SiteBNumberSpecies &lt;-<span class="st"> </span><span class="kw">length</span>(<span class="kw">unique</span>(MyPartnersCensusDataSiteB<span class="op">$</span>Species))</a>
<a class="sourceLine" id="cb193-2" data-line-number="2">SiteBNumberSpecies</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p><strong>Question 3</strong>. How did the alpha diversity of each of your sites compare with that of your partner?</p>
</div>
<div id="gamma-diversity" class="section level3">
<h3><span class="header-section-number">5.2.4</span> Gamma diversity</h3>
<p>Gamma diversity is the total number of species over a large area or region; there are many different ways that this can be measured. The way we will do it is a bit of an oversimplification by simply comparing the number of species seen during the census at both locations.</p>
<p>First we subset by the first partner</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" data-line-number="1">MyCensusData &lt;-<span class="st"> </span><span class="kw">subset</span>(CensusData, Partner<span class="op">==</span><span class="st">&#39;A&#39;</span>)</a>
<a class="sourceLine" id="cb195-2" data-line-number="2"><span class="kw">unique</span>(MyCensusData<span class="op">$</span>Species)</a></code></pre></div>
<pre><code>## [1] cardinal  blackird1 rabbit    deer      squirrel  crow     
## Levels: blackird1 cardinal crow deer rabbit squirrel</code></pre>
<p>Then we plot the results</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" data-line-number="1"><span class="kw">gghistogram</span>(<span class="dt">data=</span>MyCensusData, <span class="dt">x=</span><span class="st">&#39;Species&#39;</span>,<span class="dt">stat=</span><span class="st">&quot;count&quot;</span>)</a></code></pre></div>
<p><img src="behaviouR-R-package-tutorials_files/figure-html/unnamed-chunk-147-1.png" width="864" /></p>
<p>Now we subset by the second partner</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" data-line-number="1">MyPartnersCensusData &lt;-<span class="st"> </span><span class="kw">subset</span>(CensusData, Partner<span class="op">==</span><span class="st">&#39;B&#39;</span>)</a>
<a class="sourceLine" id="cb198-2" data-line-number="2"><span class="kw">unique</span>(MyPartnersCensusData<span class="op">$</span>Species)</a></code></pre></div>
<pre><code>## [1] squirrel crow    
## Levels: blackird1 cardinal crow deer rabbit squirrel</code></pre>
<p>Then we plot the results</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1"><span class="kw">gghistogram</span>(<span class="dt">data=</span>MyPartnersCensusData, <span class="dt">x=</span><span class="st">&#39;Species&#39;</span>,<span class="dt">stat=</span><span class="st">&quot;count&quot;</span>)</a></code></pre></div>
<p><img src="behaviouR-R-package-tutorials_files/figure-html/unnamed-chunk-149-1.png" width="864" /></p>
<p>Now we can plot all the data together, separated by partner</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" data-line-number="1"><span class="kw">gghistogram</span>(<span class="dt">data=</span>CensusData, <span class="dt">x=</span><span class="st">&#39;Species&#39;</span>,<span class="dt">stat=</span><span class="st">&quot;count&quot;</span>,</a>
<a class="sourceLine" id="cb201-2" data-line-number="2">            <span class="dt">facet.by =</span> <span class="st">&#39;Partner&#39;</span>,<span class="dt">x.text.angle =</span><span class="dv">90</span>,</a>
<a class="sourceLine" id="cb201-3" data-line-number="3">            <span class="dt">fill=</span><span class="st">&#39;Partner&#39;</span>)<span class="op">+</span><span class="kw">xlab</span>(<span class="st">&#39;Species&#39;</span>)<span class="op">+</span><span class="kw">ylab</span>(<span class="st">&#39;Number of individuals&#39;</span>)</a></code></pre></div>
<p><img src="behaviouR-R-package-tutorials_files/figure-html/unnamed-chunk-150-1.png" width="864" /></p>
<p><strong>Question 4</strong>. How did the gamma diversity of your site compare with that of your partners?</p>
</div>
</div>
<div id="part-3.-biodiversity-indices-in-the-real-world." class="section level2">
<h2><span class="header-section-number">5.3</span> Part 3. Biodiversity indices in the real world.</h2>
<p>There are special packages in R that can measure different diversity indices, as biodiversity indices are tools many ecologists use. The package we will use is called ‘vegan’.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1"><span class="kw">library</span>(vegan)</a></code></pre></div>
<p>First we need to convert our data into a table that can be used to calculate the indices.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" data-line-number="1">BiodiversityTable &lt;-<span class="st"> </span><span class="kw">table</span>(CensusData<span class="op">$</span>Site,CensusData<span class="op">$</span>Species)</a></code></pre></div>
<p>Simpson’s Index (D) measures the probability that two individuals randomly selected from a sample will belong to the same species (or some category other than species). With this index, 1 represents infinite diversity and 0 means no diversity.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1">H &lt;-<span class="st"> </span><span class="kw">diversity</span>(BiodiversityTable,<span class="dt">index=</span><span class="st">&quot;simpson&quot;</span>)</a>
<a class="sourceLine" id="cb204-2" data-line-number="2">H</a></code></pre></div>
<pre><code>##     SiteA     SiteB     SiteC     SiteD 
## 0.7962963 0.6728395 0.4444444 0.0000000</code></pre>
<p>Species evenness refers to how close in numbers each species is in an environment. We can calculate evenness using the following code. The value is constrained between 0 and 1, with communities that have a more even representation of species having values closer to 1.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb206-1" data-line-number="1">J &lt;-<span class="st"> </span>H<span class="op">/</span><span class="kw">log</span>(<span class="kw">specnumber</span>(BiodiversityTable))</a>
<a class="sourceLine" id="cb206-2" data-line-number="2">J</a></code></pre></div>
<pre><code>##     SiteA     SiteB     SiteC     SiteD 
## 0.4444214 0.4180587 0.6411978       NaN</code></pre>
<p><strong>Question 5</strong>. Which of the four sites you analyzed was most diverse? Which was the most even? Why is it important to consider diversity and evenness when studying biodiversity?</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lab-4-vigilance-behavior.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lab-6-analyzing-camera-trap-data-.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-Lab-5-Estimating-population-density-and-biodiversity.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["behaviouR-R-package-tutorials.pdf", "behaviouR-R-package-tutorials.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
